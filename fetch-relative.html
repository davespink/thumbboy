<html>

<head>
    <title>Fetch - Relative URL Test</title>
</head>

<body>
<!-- Testing fetch with relative URLs to avoid CORS issues -->

<script>
    // Debug information
    console.log('Current page location:', window.location.href);
    console.log('Current protocol:', window.location.protocol);
    
    // Use relative URL instead of absolute localhost
    const url = './index.html'; // Relative to current directory
    console.log('Attempting to fetch:', url);
    
    fetch(url)
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            alert("Relative fetch successful!");
            return response.text();
        })
        .then(data => {
            console.log('Fetched data length:', data.length);
            console.log('First 100 characters:', data.substring(0, 100));
        })
        .catch(error => {
            console.error('Relative fetch failed:', error);
        });
</script>

</body>

</html>